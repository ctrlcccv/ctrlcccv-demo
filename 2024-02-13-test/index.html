<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>CSS - hover 효과로 영역이 확대되는 이미지 갤러리 만들기 | 컨트롤 + CCCV</title>
    <meta name="description" content="CSS - hover 효과로 영역이 확대되는 이미지 갤러리 만들기 | 컨트롤 + CCCV" />
    <meta name="robots" content="noindex">
    <link rel="shortcut icon" href="https://ctrlcccv.github.io/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
<style>
    * { margin: 0; padding: 0; font-family: 'Noto Sans KR', sans-serif; box-sizing: border-box; } 
    body { background-color: #f9f9f9; margin: 0; padding: 0; display: flex; align-items: center; justify-content: center; min-height: 100vh; } 
    body { overflow: hidden; padding-bottom: 130px; perspective: 1000px; }
    ul, li { list-style: none; }
    .blog { display: flex; justify-content: center; align-items: center; position: fixed; bottom: 50px; left: 50%; width: 160px; height: 46px; background-size: 300% 100%; border-radius: 23px; font-size: 16px; font-weight: 500; color: #fff; z-index: 100; background-image: linear-gradient(to right, #29323c, #485563, #2b5876, #4e4376); transform: translate(-50%,0); text-decoration: none; transition: all .4s ease-in-out; } 
    .blog:hover { background-position: 100% 0; box-shadow: 0 2px 8px 0 rgba(45, 54, 65, 0.65); } 

    @keyframes fall { 
        0% { opacity: 0.9; top: 0}
        100% { opacity: 0.2; top: 100%} 
    }
    .sakura {
        background: linear-gradient(
            -45deg,
            rgba(255, 183, 197, 0.9) 0%,
            rgba(255, 197, 208, 0.7) 50%,
            rgba(255, 223, 230, 0.9) 100%
        );
        border-radius: 10% 50% 40% 50%; /* Adjust values to change the shape */
        pointer-events: none;
        position: absolute;
        transform-style: preserve-3d;
    }


</style>


<a href="https://ctrlcccv.github.io/code/2024-02-06-hover-gallery/" class="blog" target="_blank">컨트롤 + CCCV</a>

<script>
// initialize variables
var lastTime = 0;
var $window = $(window);
var $document = $(document);
var $body = $('body');
var documentHeight = $document.height();
var documentWidth = $document.width();
var sakura = $('<div class="sakura" />');

// Basic setting
var defaults = {
    fallSpeed: 1,
    maxSize: 30,
    minSize: 20,
    newOn: 300
};

var getRandomRotateValue = function () {
    var rotateX = (Math.random() * 90 - 45); 
    var rotateY = (Math.random() * 90 - 45);
    var rotateZ = (Math.random() * 180 - 45);
    var translateX = (Math.random() * 20 - 10);
    var translateY = (Math.random() * 20 - 10);
    var translateZ = (Math.random() * 60);

    return 'rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg) rotateZ(' + rotateZ + 'deg) translateX(' + translateX + 'px) translateY(' + translateY + 'px) translateZ(' + translateZ + 'px)';
};


// Array to store sway animation
var randomSwayAnimations = Array.from({ length: 10 }, function () {
    return { transform: getRandomRotateValue() };
});

// Function to apply sway animation to elements
var applySwayAnimation = function (element) {
    var randomSway = randomSwayAnimations[Math.floor(Math.random() * randomSwayAnimations.length)];

    element.css({
        'transition': 'transform 1000ms linear',
        'transform': randomSway.transform
    });

    setTimeout(function () {
        element.css('transition', '');
        applySwayAnimation(element);
    }, 2000);
};

//petal creation function
var petalCreator = function () {
    setTimeout(function () {
        requestAnimationFrame(petalCreator);
    }, defaults.newOn);

    var petal = sakura.clone();
    var size = Math.floor(Math.random() * (defaults.maxSize - defaults.minSize + 1)) + defaults.minSize;
    var startPosLeft = Math.random() * documentWidth;
    var startPosTop = -((Math.random() * 20) + 15);
    var fallTime = (Math.round(documentHeight * 0.007) + Math.random() * 5) * defaults.fallSpeed;
    var horizontalOffset = Math.random() * 2 - 1;

    // Register an event handler for the AnimationEnd event
    petal.on('animationend', function () {
        $(this).remove();
    });

    petal
        .css({
            'width':size,
            'height':size * 1.2,
            'left': startPosLeft,
            'position': 'absolute',
            'animation': 'fall ' + fallTime + 's linear'
        })
        .appendTo('body');

    // Function to apply horizontal movement
    var updatePosition = function () {
        petal.css('left', '+=' + horizontalOffset); // Adjust the multiplication value to control speed
        requestAnimationFrame(updatePosition);
    };

    updatePosition();
    applySwayAnimation(petal);
};

// Update documentHeight and documentWidth when window size changes
$window.resize(function () {
    documentHeight = $document.height();
    documentWidth = $document.width();
});

// Start creating petal after loading the page
$window.on('load', function () {
    requestAnimationFrame(petalCreator);
});

</script>
</body>
</html>
