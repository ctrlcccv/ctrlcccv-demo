<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>CSS - hover 효과로 영역이 확대되는 이미지 갤러리 만들기 | 컨트롤 + CCCV</title>
    <meta name="description" content="CSS - hover 효과로 영역이 확대되는 이미지 갤러리 만들기 | 컨트롤 + CCCV" />
    <meta name="robots" content="noindex">
    <link rel="shortcut icon" href="https://ctrlcccv.github.io/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
<style>
    * { margin: 0; padding: 0; font-family: 'Noto Sans KR', sans-serif; box-sizing: border-box; } 
    body { background-color: #f9f9f9; margin: 0; padding: 0; display: flex; align-items: center; justify-content: center; min-height: 100vh; padding-bottom: 130px; } 
    ul, li { list-style: none; }
    .blog { display: flex; justify-content: center; align-items: center; position: fixed; bottom: 50px; left: 50%; width: 160px; height: 46px; background-size: 300% 100%; border-radius: 23px; font-size: 16px; font-weight: 500; color: #fff; z-index: 100; background-image: linear-gradient(to right, #29323c, #485563, #2b5876, #4e4376); transform: translate(-50%,0); text-decoration: none; transition: all .4s ease-in-out; } 
    .blog:hover { background-position: 100% 0; box-shadow: 0 2px 8px 0 rgba(45, 54, 65, 0.65); } 

    @keyframes fall { 
        0% { opacity: 1;top: 0}
        80% { opacity: 1;} 
        100% { opacity: 0.2;top: 100%} 
    }

    .sakura_wrap { position: relative;overflow: hidden; width: 600px; height: 600px; max-width: 100%; max-height: 100vh; perspective: 1000px; background:#000 url('sakura.png') center center no-repeat;background-size: cover; } 
    .sakura { position: absolute;  background: linear-gradient(-45deg, rgba(255, 182, 193, 1) 0%, rgba(255, 197, 208, 1) 40%, rgba(255, 223, 230, 1) 80%); box-shadow: 0 0 20px rgba(255, 255, 255, 0.8); border-radius: 10% 50% 40% 50%; pointer-events: none; transform-style: preserve-3d;z-index: 2; } 

</style>

<div class="sakura_wrap"></div>
  

<a href="https://ctrlcccv.github.io/code/2024-02-06-hover-gallery/" class="blog" target="_blank">컨트롤 + CCCV</a>

<script>
// initialize variables
var lastTime = 0;
var $document = $('.sakura_wrap');
var documentHeight = $document.height();
var documentWidth = $document.width();
var sakura = $('<div class="sakura"></div>');

// Basic setting
var defaults = {
    fallSpeed: 1,
    maxSize: 15,
    minSize: 10,
    newOn: 300
};
var getRandomRotateValue = function () {
    var rotateX = (Math.random() * 60 - 30); 
    var rotateY = (Math.random() * 60 - 30);
    var rotateZ = (Math.random() * 120 - 30);
    var translateX = (Math.random() * 10 - 5);
    var translateY = (Math.random() * 10 - 5); 
    var translateZ = (Math.random() * 30);

    return 'rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg) rotateZ(' + rotateZ + 'deg) translateX(' + translateX + 'px) translateY(' + translateY + 'px) translateZ(' + translateZ + 'px)';
};

var randomSwayAnimations = Array.from({ length: 10 }, function () {
    return { transform: getRandomRotateValue() };
});

var applySwayAnimation = function (element) {
    var randomSway = randomSwayAnimations[Math.floor(Math.random() * randomSwayAnimations.length)];

    element.css({
        'transition': 'transform 1000ms linear',
        'transform': randomSway.transform
    });

    setTimeout(function () {
        element.css('transition', '');
        applySwayAnimation(element);
    }, 1000);
};

var petalCreator = function () {
    setTimeout(function () {
        requestAnimationFrame(petalCreator);
    }, defaults.newOn);

    var petal = sakura.clone();
    var size = Math.floor(Math.random() * (defaults.maxSize - defaults.minSize + 1)) + defaults.minSize;
    var startPosLeft = Math.random() * documentWidth;
    var startPosTop = -((Math.random() * 20) + 15);
    var fallTime = (Math.round(documentHeight * 0.007) + Math.random() * 5) * defaults.fallSpeed;
    var horizontalOffset = Math.random() * 2 - 1;

    petal.on('animationend', function () {
        $(this).remove();
    });

    petal
        .css({
            'width':size,
            'height':size,
            'left': startPosLeft,
            'position': 'absolute',
            'animation': 'fall ' + fallTime + 's linear'
        })
        .appendTo($document);

    var updatePosition = function () {
        petal.css('left', '+=' + horizontalOffset); 
        requestAnimationFrame(updatePosition);
    };

    updatePosition();
    applySwayAnimation(petal);
};

$(window).resize(function () {
    documentHeight = $document.height();
    documentWidth = $document.width();
});

$(window).on('load', function () {
    requestAnimationFrame(petalCreator);
});

</script>
</body>
</html>
